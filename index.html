<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Letter for Nisha</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: linear-gradient(135deg, #dbeeff, #fff0f6, #e8ffe6);
      font-family: 'Comic Sans MS', 'Courier New', cursive;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      color: #444;
    }

    /* Intro envelope */
    #intro {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: #fff;
      border: 2px dashed #ffb6c1;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      max-width: 500px;
      cursor: pointer;
      transition: transform 0.4s ease;
    }
    #intro:hover {
      transform: scale(1.05);
    }
    #intro h1 {
      font-size: 28px;
      margin-bottom: 10px;
      color: #ff69b4;
    }
    #intro p {
      font-size: 18px;
      color: #666;
    }

    /* Hidden card */
    .card {
      display: none;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      max-width: 700px;
      line-height: 1.7;
      font-size: 18px;
      z-index: 2;
      border: 2px dashed #ffb6c1;
      white-space: pre-line; /* keeps line breaks */
    }

    .title {
      font-size: 26px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #ff69b4;
    }

    .cursor {
      display: inline-block;
      width: 10px;
      background: #ff69b4;
      animation: blink 0.7s infinite;
    }

    @keyframes blink {
      0%, 100% { background: #ff69b4; }
      50% { background: transparent; }
    }

    .flower {
      position: fixed;
      top: -50px;
      font-size: 28px;
      animation: fall linear forwards;
      z-index: 1;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0.9;
      }
    }

    iframe {
      display: none; /* hide YouTube video, keep only music */
    }
  </style>
</head>
<body>
  <!-- Intro "sealed letter" -->
  <div id="intro">
    <h1>ðŸ’Œ Youâ€™ve got a Letter ðŸ’Œ</h1>
    <p>Tap to open it...</p>
  </div>

  <!-- Hidden card (reveals after tap) -->
  <div class="card" id="letter">
    <div class="title">ðŸ’Œ A Note for You ðŸ’Œ</div>
    <div id="message"></div>
  </div>

  <!-- Hidden Message in a Bottle music -->
  <iframe id="music"
    src="https://www.youtube.com/embed/1P3vn9fXbVw?enablejsapi=1&version=3&autoplay=1&loop=1&playlist=1P3vn9fXbVw"
    allow="autoplay"
    width="0" height="0">
  </iframe>

  <script>
    const intro = document.getElementById("intro");
    const letter = document.getElementById("letter");
    const messageDiv = document.getElementById("message");

    // Your heartfelt message
    const messageLines = [
      "Hi Nisha,",
      "",
      "I know you are not ready for a relationship right now, and thatâ€™s completely okay.",
      "I donâ€™t want you to feel rushed or pressured, your happiness and comfort mean the most to me.",
      "",
      "What matters is that you are being true to yourself, and I deeply respect that.",
      "I want you to know that I will always be here, quietly and patiently,",
      "Iâ€™ll be here, waiting for the day you feel ready, whether itâ€™s soon or far in the future.",
      "",
      "To me, you are not defined by perfection, but by the little things that make you who you are.",
      "Your flaws, your strengths, and even your insecurities, they are all part of the person I admire.",
      "",
      "So take all the time you need, Nisha. Iâ€™m not going anywhere.",
      "Some things in life are worth waiting forâ€¦ and you are one of them.",
      "",
      "With patience,",
      "Danish"
    ];

    // On tap â†’ reveal letter + start typewriter + play music
    intro.addEventListener("click", () => {
      intro.style.display = "none";
      letter.style.display = "block";
      startMessage();
      playMusic();
    });

    let i = 0;
    let text = messageLines.join("\n");

    function startMessage() {
      function typeWriter() {
        if (i < text.length) {
          messageDiv.innerHTML = text.substring(0, i+1) + "<span class='cursor'></span>";
          i++;
          setTimeout(typeWriter, 40);
        } else {
          messageDiv.textContent = text;
        }
      }
      typeWriter();
      setInterval(createFlower, 700);
    }

    // Falling flowers
    function createFlower() {
      const flower = document.createElement("div");
      flower.classList.add("flower");
      const arr = ["ðŸŒ¸","ðŸŒ·","ðŸŒ¼","ðŸ’®","ðŸŒº","ðŸŒ»"];
      flower.innerHTML = arr[Math.floor(Math.random() * arr.length)];
      flower.style.left = Math.random() * 100 + "vw";
      flower.style.animationDuration = (4 + Math.random() * 5) + "s";
      document.body.appendChild(flower);
      setTimeout(() => flower.remove(), 10000);
    }

    // YouTube autoplay workaround (user gesture)
    function playMusic() {
      const iframe = document.getElementById("music");
      iframe.src = iframe.src; // reload to force play after click
    }
  </script>
</body>
</html>
