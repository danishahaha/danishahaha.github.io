<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Letter for Nisha</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{
      margin:0; height:100vh; display:flex; justify-content:center; align-items:center;
      background:linear-gradient(135deg,#ffe6f0,#e6f7ff,#fff9e6);
      font-family:'Comic Sans MS','Courier New',cursive; color:#444; overflow:hidden;
    }
    /* Intro */
    #intro{
      position:fixed; inset:0; display:flex; flex-direction:column; justify-content:center; align-items:center;
      background:linear-gradient(135deg,#ffe6f0,#fff9e6,#e6f7ff); z-index:10; text-align:center;
    }
    .envelope{ font-size:84px; cursor:pointer; animation:bounce 1.5s infinite }
    .tap-text{ margin-top:14px; color:#ff69b4; font-size:18px }
    @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

    /* Letter card */
    .card{
      display:none; background:rgba(255,255,255,0.9); border-radius:20px; padding:30px;
      box-shadow:0 6px 15px rgba(0,0,0,0.1); max-width:700px; white-space:pre-line; border:2px dashed #ffb6c1;
    }
    .title{ font-size:26px; font-weight:bold; margin-bottom:15px; color:#ff69b4 }
    .cursor{ display:inline-block; width:10px; background:#ff69b4; animation:blink .7s infinite }
    @keyframes blink{0%,100%{background:#ff69b4}50%{background:transparent}}

    /* Falling flowers */
    .flower{ position:fixed; top:-50px; font-size:28px; animation:fall linear forwards; z-index:1 }
    @keyframes fall{ to{ transform:translateY(110vh) rotate(360deg); opacity:.9 } }

    /* optional play button if autoplay blocked */
    #playBtn{
      margin-top:12px; background:#ff69b4; color:#fff; border:0; padding:10px 18px; border-radius:12px; display:none; cursor:pointer;
    }
  </style>
</head>
<body>
  <!-- Intro -->
  <div id="intro">
    <div class="envelope" id="openLetter" aria-label="Tap to open letter">‚úâÔ∏è</div>
    <div class="tap-text">Tap the letter to open üíå</div>
    <button id="playBtn">‚ñ∂Ô∏è Play Music</button>
  </div>

  <!-- Letter -->
  <div class="card" id="letter">
    <div class="title">üíå A Note for You üíå</div>
    <div id="message"></div>
  </div>

  <!-- Royalty-free background music (free to use) -->
  <!-- Option A (default): gentle romantic piano -->
  <audio id="bg-music" preload="auto" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5a4e4e9c65.mp3?filename=romantic-piano-melody-12472.mp3" type="audio/mpeg">
  </audio>
  <!-- Option B (brighter, hopeful piano) ‚Äî swap src to use this instead
  <audio id="bg-music" preload="auto" loop>
    <source src="https://cdn.pixabay.com/download/audio/2021/11/18/audio_3a2c2e6d5b.mp3?filename=inspiring-piano-ambient-11306.mp3" type="audio/mpeg">
  </audio>
  -->

  <script>
    const intro = document.getElementById('intro');
    const openLetter = document.getElementById('openLetter');
    const letter = document.getElementById('letter');
    const messageDiv = document.getElementById('message');
    const music = document.getElementById('bg-music');
    const playBtn = document.getElementById('playBtn');

    const messageLines = [
      "Hi Nisha,",
      "",
      "I know you are not ready for a relationship right now, and that‚Äôs completely okay.",
      "I don‚Äôt want you to feel rushed or pressured, your happiness and comfort mean the most to me.",
      "",
      "What matters is that you are being true to yourself, and I deeply respect that.",
      "I want you to know that I will always be here, quietly and patiently,",
      "I‚Äôll be here, waiting for the day you feel ready, whether it‚Äôs soon or far in the future.",
      "",
      "To me, you are not defined by perfection, but by the little things that make you who you are.",
      "Your flaws, your strengths, and even your insecurities, they are all part of the person I admire.",
      "",
      "So take all the time you need, Nisha. I‚Äôm not going anywhere.",
      "Some things in life are worth waiting for‚Ä¶ and you are one of them.",
      "",
      "With patience,",
      "Danish"
    ];

    function typeWriter(text){
      let i = 0;
      (function step(){
        if(i < text.length){
          messageDiv.innerHTML = text.substring(0, i+1) + "<span class='cursor'></span>";
          i++; setTimeout(step, 40);
        }else{
          messageDiv.textContent = text;
        }
      })();
    }

    function fadeInPlay(){
      music.volume = 0;
      music.play().then(()=>{
        let v = 0;
        const t = setInterval(()=>{
          v = Math.min(1, v + 0.03);
          music.volume = v;
          if(v >= 1) clearInterval(t);
        }, 120);
      }).catch(()=>{
        playBtn.style.display = 'inline-block';
      });
    }

    openLetter.addEventListener('click', ()=>{
      intro.style.display = 'none';
      letter.style.display = 'block';
      typeWriter(messageLines.join("\n"));
      fadeInPlay(); // user tap allows audio on mobile
    }, { once:true });

    playBtn.addEventListener('click', ()=>{
      fadeInPlay();
      playBtn.style.display = 'none';
    });

    // Cute falling flowers
    function createFlower(){
      const f = document.createElement('div');
      f.className = 'flower';
      f.textContent = ["üå∏","üå∑","üåº","üíÆ","üå∫","üåª"][Math.floor(Math.random()*6)];
      f.style.left = Math.random()*100 + "vw";
      f.style.animationDuration = (4 + Math.random()*5) + "s";
      document.body.appendChild(f);
      setTimeout(()=>f.remove(), 10000);
    }
    setInterval(createFlower, 700);
  </script>
</body>
</html>

