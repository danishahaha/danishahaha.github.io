<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Letter for Nisha</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: linear-gradient(135deg, #ffe6f0, #e6f7ff, #fff9e6);
      font-family: 'Comic Sans MS', 'Courier New', cursive;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      color: #444;
    }

    iframe {
      position: fixed;
      top: 0;
      left: 0;
      width: 0;
      height: 0;
      border: none;
    }

    #intro {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background: linear-gradient(135deg, #ffe6f0, #fff9e6, #e6f7ff);
      z-index: 10;
    }

    .envelope {
      font-size: 80px;
      cursor: pointer;
      animation: bounce 1.5s infinite;
    }

    .tap-text {
      margin-top: 20px;
      font-size: 18px;
      color: #ff69b4;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .card {
      display: none;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      max-width: 700px;
      line-height: 1.7;
      font-size: 18px;
      z-index: 2;
      border: 2px dashed #ffb6c1;
      white-space: pre-line;
      position: relative;
    }

    .title {
      font-size: 26px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #ff69b4;
    }

    .cursor {
      display: inline-block;
      width: 10px;
      background: #ff69b4;
      animation: blink 0.7s infinite;
    }

    @keyframes blink {
      0%, 100% { background: #ff69b4; }
      50% { background: transparent; }
    }

    /* Falling flowers */
    .flower {
      position: fixed;
      top: -10px;
      font-size: 24px;
      animation: fall linear forwards;
      z-index: 1;
      pointer-events: none;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0.7;
      }
    }
  </style>
</head>
<body>
  <!-- Hidden YouTube background music -->
  <iframe id="ytplayer" src="https://www.youtube.com/embed/q0hyYWKXF0Q?enablejsapi=1&autoplay=1&mute=1&loop=1&playlist=q0hyYWKXF0Q" allow="autoplay"></iframe>

  <!-- Intro Screen -->
  <div id="intro">
    <div class="envelope">‚úâÔ∏è</div>
    <div class="tap-text">Tap the letter to open üíå</div>
  </div>

  <!-- Main Letter -->
  <div class="card" id="letter">
    <div class="title">üíå A Note for You üíå</div>
    <div id="message"></div>
  </div>

  <script>
    const intro = document.getElementById("intro");
    const letter = document.getElementById("letter");
    const messageDiv = document.getElementById("message");

    const messageLines = [
      "Hi Nisha,",
      "",
      "I know you are not ready for a relationship right now, and that‚Äôs completely okay.",
      "I don‚Äôt want you to feel rushed or pressured, your happiness and comfort mean the most to me.",
      "",
      "What matters is that you are being true to yourself, and I deeply respect that.",
      "I want you to know that I will always be here, quietly and patiently,",
      "I‚Äôll be here, waiting for the day you feel ready, whether it‚Äôs soon or far in the future.",
      "",
      "To me, you are not defined by perfection, but by the little things that make you who you are.",
      "Your flaws, your strengths, and even your insecurities, they are all part of the person I admire.",
      "",
      "So take all the time you need, Nisha. I‚Äôm not going anywhere.",
      "Some things in life are worth waiting for‚Ä¶ and you are one of them.",
      "",
      "With patience,",
      "Danish"
    ];

    // Typewriter effect
    let text = messageLines.join("\n");
    let i = 0;

    function typeWriter() {
      if (i < text.length) {
        messageDiv.innerHTML = text.substring(0, i+1) + "<span class='cursor'></span>";
        i++;
        setTimeout(typeWriter, 40);
      } else {
        messageDiv.textContent = text;
      }
    }

    // Load YouTube API
    function onYouTubeIframeAPIReady() {
      window.player = new YT.Player('ytplayer');
    }

    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);

    // Fade-in music
    function fadeInMusic() {
      let volume = 0;
      let interval = setInterval(() => {
        if (volume < 100) {
          volume += 2;
          player.setVolume(volume);
        } else {
          clearInterval(interval);
        }
      }, 200);
    }

    // Create falling flowers
    function createFlower() {
      const flowers = ["üå∏","üåπ","üå∫","üå∑","üíÆ"];
      const flower = document.createElement("div");
      flower.className = "flower";
      flower.textContent = flowers[Math.floor(Math.random()*flowers.length)];
      flower.style.left = Math.random()*100 + "vw";
      flower.style.animationDuration = (3 + Math.random()*5) + "s";
      flower.style.fontSize = (20 + Math.random()*20) + "px";
      document.body.appendChild(flower);

      setTimeout(() => {
        flower.remove();
      }, 8000);
    }

    // Open letter
    document.querySelector(".envelope").addEventListener("click", () => {
      intro.style.display = "none";
      letter.style.display = "block";
      typeWriter();
      if (window.player) {
        player.unMute();
        player.setVolume(0);
        fadeInMusic();
      }
      setInterval(createFlower, 400); // keep flowers falling
    });
  </script>
</body>
</html>
